<div class="logo-editor-container">
  <!-- Left Icon Sidebar -->
  <div class="icon-sidebar">
    <div class="icon-nav">
      <button
        class="nav-icon-btn"
        [class.active]="activeTab === 'brand'"
        (click)="setActiveTab('brand')"
        title="Brand Name"
      >
        <img [src]="getTabIconPath('brand')" alt="Brand Name" />
      </button>

      <button
        class="nav-icon-btn"
        [class.active]="activeTab === 'slogan'"
        (click)="setActiveTab('slogan')"
        title="Slogan"
      >
        <img [src]="getTabIconPath('slogan')" alt="Slogan" />
      </button>

      <button class="nav-icon-btn" [class.active]="activeTab === 'icons'" (click)="setActiveTab('icons')" title="Icons">
        <img [src]="getTabIconPath('icons')" alt="Icons" />
      </button>

      <button
        class="nav-icon-btn"
        [class.active]="activeTab === 'shapes'"
        (click)="setActiveTab('shapes')"
        title="Shapes"
      >
        <img [src]="getTabIconPath('shapes')" alt="Shapes" />
      </button>

      <button
        class="nav-icon-btn"
        [class.active]="activeTab === 'colors'"
        (click)="setActiveTab('colors')"
        title="Colors"
      >
        <img [src]="getTabIconPath('colors')" alt="Colors" />
      </button>
    </div>
  </div>

  <!-- Middle Panel - Editor Controls -->
  <div class="editor-panel">
    <div class="logo-container">
      <img src="../../../../../assets/icons/NS_Logo.svg" alt="NS_Logo" />
    </div>
    <!-- Brand Name Section -->
    <div class="editor-section brand-section" *ngIf="activeTab === 'brand'">
      <div class="section-header">
        <h2>Make your name shine</h2>
        <p class="section-description">A few small tweaks can help your logo feel just right and totally on brand.</p>
      </div>

      <div class="form-group brand-text">
        <label class="form-label">Brand Name</label>
        <input          
          type="text"
          class="form-input"
          [class.hovered]="brandNameFieldHovered"
          [class.focused]="brandNameFieldFocused"
          [class.character-limit-exceeded]="isCharacterLimitExceeded()"
          [(ngModel)]="brandName"
          (ngModelChange)="onBrandNameChange()"
          (mouseenter)="onBrandNameFieldHover(true)"
          (mouseleave)="onBrandNameFieldHover(false)"
          (focus)="onBrandNameFieldFocus()"
          (blur)="onBrandNameFieldBlur()"
          (dblclick)="onBrandNameFieldDoubleClick($event)"
          placeholder="Enter your brand name"
          maxlength="40"
        />
        <!-- <textarea
          *ngIf="isMultiline"
          class="form-input multiline-input"
          [class.hovered]="brandNameFieldHovered"
          [class.focused]="brandNameFieldFocused"
          [class.character-limit-exceeded]="isCharacterLimitExceeded()"
          [(ngModel)]="brandName"
          (ngModelChange)="onBrandNameChange()"
          (mouseenter)="onBrandNameFieldHover(true)"
          (mouseleave)="onBrandNameFieldHover(false)"
          (focus)="onBrandNameFieldFocus()"
          (blur)="onBrandNameFieldBlur()"
          (dblclick)="onBrandNameFieldDoubleClick($event)"
          placeholder="Enter your brand name (use Enter for new lines)"
          rows="3"
        ></textarea> -->
        
        <!-- Character counter - show at 30 characters as per figma.md -->
        <div class="character-counter" *ngIf="showCharacterCounter">
          <span [class.character-limit-exceeded]="isCharacterLimitExceeded()">
            {{ getCharacterCountText() }}
          </span>
        </div>
      </div>

      <div class="fonts-section">
        <h3 class="subsection-title">Recommended Fonts</h3>
        <div class="fonts-grid">
          <button
            *ngFor="let font of recommendedFonts"
            class="font-tile"
            [class.active]="selectedFont === font.name"
            (click)="selectFont(font.name)"
            [style.font-family]="font.family"
          >
            {{ font.display }}
          </button>
        </div>
      </div>

      <div class="custom-font-section">
        <h3 class="subsection-title">Custom Font</h3>

        <!-- Custom Font Tile - Show "Select your own font" when not clicked -->
        <div 
          class="custom-font-button" 
          (click)="onCustomFontTileClick()" 
          *ngIf="!customFontTileClicked"
        >
          <div class="upload-zone">                  
            <label class="upload-label">
              <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 7.0083C12 7.42305 11.6648 7.7583 11.25 7.7583H9.75V12.2583C9.75 12.6731 9.41475 13.0083 9 13.0083C8.58525 13.0083 8.25 12.6731 8.25 12.2583V7.7583H6.75C6.33525 7.7583 6 7.42305 6 7.0083C6 6.59355 6.33525 6.2583 6.75 6.2583H11.25C11.6648 6.2583 12 6.59355 12 7.0083ZM15 13.0353V5.4813C13.8525 5.3163 12.942 4.4058 12.777 3.2583H5.223C5.058 4.4058 4.1475 5.3163 3 5.4813V13.0353C4.1475 13.2003 5.058 14.1108 5.223 15.2583H12.777C12.942 14.1108 13.8525 13.2003 15 13.0353ZM18 15.6333C18 17.0808 16.8225 18.2583 15.375 18.2583C14.3303 18.2583 13.4258 17.6441 13.0035 16.7583H4.9965C4.57425 17.6441 3.66975 18.2583 2.625 18.2583C1.1775 18.2583 0 17.0808 0 15.6333C0 14.5886 0.61425 13.6841 1.5 13.2618V5.2548C0.61425 4.83255 0 3.92805 0 2.8833C0 1.4358 1.1775 0.258301 2.625 0.258301C3.66975 0.258301 4.57425 0.872551 4.9965 1.7583H13.0043C13.4265 0.872551 14.331 0.258301 15.3758 0.258301C16.8233 0.258301 18.0008 1.4358 18.0008 2.8833C18.0008 3.92805 17.3865 4.83255 16.5008 5.2548V13.2626C17.3865 13.6848 18.0008 14.5893 18.0008 15.6341L18 15.6333Z" fill="#007A33"/>
              </svg>
              <span>Select your own font</span>
            </label>
          </div>
        </div>

        <!-- Custom Font Dropdown - Show after tile is clicked -->
        <div class="font-selection-row" *ngIf="customFontTileClicked">
          <div class="custom-font-dropdown-container">
            <button class="custom-font-btn" (click)="toggleCustomFontDropdown()">
              <span class="selected-font-display" [style.font-family]="selectedFont">
                {{ selectedFont }}
              </span>
              
              <svg width="12" height="13" viewBox="0 0 12 13"  fill="currentColor"
                [style.transform]="showCustomFontDropdown ? 'rotate(180deg)' : 'rotate(0deg)'">
                <path d="M6.35491 7.50134C6.30843 7.5482 6.25313 7.5854 6.1922 7.61079C6.13127 7.63617 6.06591 7.64924 5.99991 7.64924C5.9339 7.64924 5.86855 7.63617 5.80762 7.61079C5.74669 7.5854 5.69139 7.5482 5.64491 7.50134L3.35491 5.20634C3.30843 5.15948 3.25313 5.12228 3.1922 5.09689C3.13127 5.07151 3.06591 5.05844 2.99991 5.05844C2.9339 5.05844 2.86855 5.07151 2.80762 5.09689C2.74669 5.12228 2.69139 5.15948 2.64491 5.20634C2.55178 5.30002 2.49951 5.42675 2.49951 5.55884C2.49951 5.69093 2.55178 5.81766 2.64491 5.91134L4.93991 8.20634C5.22116 8.48724 5.60241 8.64502 5.99991 8.64502C6.39741 8.64502 6.77866 8.48724 7.05991 8.20634L9.35491 5.91134C9.44728 5.81821 9.49936 5.69251 9.49991 5.56134C9.50029 5.49554 9.48768 5.4303 9.46279 5.36939C9.43791 5.30847 9.40125 5.25306 9.35491 5.20634C9.30843 5.15948 9.25313 5.12228 9.1922 5.09689C9.13127 5.07151 9.06591 5.05844 8.99991 5.05844C8.9339 5.05844 8.86855 5.07151 8.80762 5.09689C8.74669 5.12228 8.69139 5.15948 8.64491 5.20634L6.35491 7.50134Z" fill="black"/>
              </svg>
            </button>

            <!-- Scrollable Font Dropdown as per figma.md -->
            <div class="custom-font-dropdown" *ngIf="showCustomFontDropdown">
              <div class="font-list scrollable-list">
                <div 
                  class="font-item" 
                  *ngFor="let font of recommendedFonts" 
                  (click)="selectFont(font.name)"
                  [style.font-family]="font.family"
                >
                  <span class="font-name" [class.active]="selectedFont === font.name">
                    {{ font.display }}
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- Font Style Controls - Outside Dropdown -->
          <div class="font-style-controls">
            <button 
              class="style-btn" 
              [class.active]="isBold" 
              (click)="toggleBold()"
              title="Bold">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9.02 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z" />
              </svg>
            </button>
            <button 
              class="style-btn" 
              [class.active]="isItalic" 
              (click)="toggleItalic()"
              title="Italic">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <div class="controls-section">
        <div class="control-row">
          <div class="control-group multiline-control">
            <label class="control-label">Multiline</label>
          </div>
          <div class="control-helper">
            
            <div class="toggle-switch">
              <input type="checkbox" id="multiline" [(ngModel)]="isMultiline" (ngModelChange)="onMultilineToggle()" />
              <label for="multiline" class="toggle-slider"></label>
            </div>
            <!-- <small class="helper-text">
              {{ isMultiline ? 'Text will display on multiple lines' : 'Text will display on a single line' }}
            </small> -->
          </div>
        </div>

        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Font Size</label>
            <div class="slider-wrapper">
              <input
                type="range"
                class="range-slider"
                [(ngModel)]="fontSize"
                (ngModelChange)="onFontSizeChange()"
                min="24"
                max="120"
                [style.--val]="fontSize"
                [style.--min]="24"
                [style.--max]="120"
              />
            </div>
          </div>
        </div>

        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Letter Spacing</label>
            <div class="slider-wrapper">
              <input
                type="range"
                class="range-slider"
                [(ngModel)]="letterSpacing"
                (ngModelChange)="onLetterSpacingChange()"
                min="-2"
                max="10"
                [style.--val]="letterSpacing"
                [style.--min]="-2 "
                [style.--max]="10"
              />
            </div>
          </div>
        </div>

        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Line Height</label>
            <div class="slider-wrapper">
              <input
                type="range"
                class="range-slider"
                [(ngModel)]="lineHeight"
                (ngModelChange)="onLineHeightChange()"
                min="0.8"
                max="2"
                step="0.1"
                [style.--val]="lineHeight"
                [style.--min]="0.8"
                [style.--max]="2"
                
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slogan Section -->
    <div class="editor-section brand-section" *ngIf="activeTab === 'slogan'">
      <div class="section-header">
        <h2>Bring your slogan to life</h2>
        <p class="section-description">Tweek the style to match your brand's personality</p>
      </div>

      <!-- Slogan Toggle -->
      <div class="form-group slogan-container">
        <label class="form-label">Slogan</label>
        <div class="toggle-group">
          <div class="toggle-switch">
            <input type="checkbox" id="sloganToggle" [(ngModel)]="enableSlogan" (ngModelChange)="onSloganToggle()" />
            <label for="sloganToggle" class="toggle-slider"></label>
          </div>
        </div>
      </div>
<div class="slogan-toggle-container"  [style.opacity]="enableSlogan ? '1' : '0.3'" [style.pointer-events]="!enableSlogan ? 'none' : 'auto'">
 <!-- Slogan Text Input -->
      <div class="form-group slogan-text">
        <input          
          type="text"
          class="form-input"
          [(ngModel)]="sloganText"
          (ngModelChange)="onSloganChange()"
          placeholder="Enter your slogan"
          maxlength="40"
        />
        <!-- <input
          *ngIf="!sloganIsMultiline"
          type="text"
          class="form-input"
          [(ngModel)]="sloganText"
          (ngModelChange)="onSloganChange()"
          placeholder="Enter your slogan"
          maxlength="40"
        /> -->
        <!-- <textarea
          *ngIf="sloganIsMultiline"
          class="form-input multiline-input"
          [(ngModel)]="sloganText"
          (ngModelChange)="onSloganChange()"
          placeholder="Enter your slogan (use Enter for new lines)"
          rows="3"
        ></textarea> -->
      </div>

      <!-- Recommended Fonts -->
      <div class="fonts-section">
        <h3 class="subsection-title">Recommended Fonts</h3>
        <div class="fonts-grid">
          <button
            *ngFor="let font of getDisplayFonts()"
            class="font-tile"
            [class.active]="sloganFont === font.name"
            (click)="selectSloganFont(font.name)"
            [style.font-family]="font.family"
          >
            {{ font.display }}
          </button>
        </div>
      </div>

      <!-- Custom Font Selection for Slogan -->
      <!-- <div class="custom-font-section" *ngIf="enableSlogan">
        <h3 class="subsection-title">Custom Font1</h3>
        <div class="font-selection-row">
          <div class="custom-font-dropdown-container">
            <button class="custom-font-btn" (click)="toggleSloganCustomFontDropdown()">
              <span class="selected-font-display" [style.font-family]="sloganFont">
                {{ sloganFont }}
              </span>
              <svg
                width="12"
                height="12"
                viewBox="0 0 24 24"
                fill="currentColor"
                [style.transform]="showSloganCustomFontDropdown ? 'rotate(180deg)' : 'rotate(0deg)'"
              >
                <path d="M7,10L12,15L17,10H7Z" />
              </svg>
            </button>

           
            <div class="custom-font-dropdown" *ngIf="showSloganCustomFontDropdown">
              
              <div class="font-list">
                <div class="font-item" *ngFor="let font of getDisplayFonts()" (click)="selectSloganFont(font.name)">
                  <span class="font-name" [style.font-family]="font.family" [class.active]="sloganFont === font.name">
                    {{ font.display }}
                  </span>
                </div>
              </div>

             
              <div class="upload-section">
                <div class="section-divider"></div>
                <div class="upload-zone">
                  <input
                    type="file"
                    id="font-upload-slogan"
                    (change)="onFileUpload($event)"
                    accept=".ttf,.otf,.woff,.woff2"
                    style="display: none"
                  />
                  <label for="font-upload-slogan" class="upload-label">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
                    </svg>
                    <span>Upload custom font</span>
                  </label>
                </div>

                
                <div class="uploaded-fonts" *ngIf="uploadedFonts.length > 0">
                  <div class="font-item" *ngFor="let font of uploadedFonts" (click)="selectSloganFont(font.name)">
                    <span class="font-name" [style.font-family]="font.family" [class.active]="sloganFont === font.name">
                      {{ font.name }}
                    </span>
                  </div>
                </div>

                <div class="upload-loading" *ngIf="isUploadingFont">
                  <div class="loading-spinner"></div>
                  <span>Uploading font...</span>
                </div>
              </div>
            </div>
          </div>

         
          <div class="font-style-controls">
            <button 
              class="style-btn" 
              [class.active]="sloganIsBold" 
              (click)="toggleSloganBold()"
              title="Bold">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9.02 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z" />
              </svg>
            </button>
            <button 
              class="style-btn" 
              [class.active]="sloganIsItalic" 
              (click)="toggleSloganItalic()"
              title="Italic">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z" />
              </svg>
            </button>
          </div>
        </div>
      </div> -->


  <div class="custom-font-section">
        <h3 class="subsection-title">Custom</h3>


<div class="custom-font-button" (click)="toggleSloganFontSelection()" *ngIf="!showSloganFontSelection">
                <div class="upload-zone">                  
                  <label for="font-upload-brand" class="upload-label">
                    <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 7.0083C12 7.42305 11.6648 7.7583 11.25 7.7583H9.75V12.2583C9.75 12.6731 9.41475 13.0083 9 13.0083C8.58525 13.0083 8.25 12.6731 8.25 12.2583V7.7583H6.75C6.33525 7.7583 6 7.42305 6 7.0083C6 6.59355 6.33525 6.2583 6.75 6.2583H11.25C11.6648 6.2583 12 6.59355 12 7.0083ZM15 13.0353V5.4813C13.8525 5.3163 12.942 4.4058 12.777 3.2583H5.223C5.058 4.4058 4.1475 5.3163 3 5.4813V13.0353C4.1475 13.2003 5.058 14.1108 5.223 15.2583H12.777C12.942 14.1108 13.8525 13.2003 15 13.0353ZM18 15.6333C18 17.0808 16.8225 18.2583 15.375 18.2583C14.3303 18.2583 13.4258 17.6441 13.0035 16.7583H4.9965C4.57425 17.6441 3.66975 18.2583 2.625 18.2583C1.1775 18.2583 0 17.0808 0 15.6333C0 14.5886 0.61425 13.6841 1.5 13.2618V5.2548C0.61425 4.83255 0 3.92805 0 2.8833C0 1.4358 1.1775 0.258301 2.625 0.258301C3.66975 0.258301 4.57425 0.872551 4.9965 1.7583H13.0043C13.4265 0.872551 14.331 0.258301 15.3758 0.258301C16.8233 0.258301 18.0008 1.4358 18.0008 2.8833C18.0008 3.92805 17.3865 4.83255 16.5008 5.2548V13.2626C17.3865 13.6848 18.0008 14.5893 18.0008 15.6341L18 15.6333Z" fill="#007A33"/>
</svg>
                    <span>Select your own fonts</span>
                  </label>
                </div>
                </div>

        <div class="font-selection-row" *ngIf="showSloganFontSelection">
          <div class="custom-font-dropdown-container">

<button class="custom-font-btn" (click)="toggleSloganCustomFontDropdown()">
              <span class="selected-font-display" [style.font-family]="sloganFont">
                {{ sloganFont }}
              </span>                   

              <svg width="12" height="13" viewBox="0 0 12 13"  fill="currentColor"
                [style.transform]="showCustomFontDropdown ? 'rotate(180deg)' : 'rotate(0deg)'">
<path d="M6.35491 7.50134C6.30843 7.5482 6.25313 7.5854 6.1922 7.61079C6.13127 7.63617 6.06591 7.64924 5.99991 7.64924C5.9339 7.64924 5.86855 7.63617 5.80762 7.61079C5.74669 7.5854 5.69139 7.5482 5.64491 7.50134L3.35491 5.20634C3.30843 5.15948 3.25313 5.12228 3.1922 5.09689C3.13127 5.07151 3.06591 5.05844 2.99991 5.05844C2.9339 5.05844 2.86855 5.07151 2.80762 5.09689C2.74669 5.12228 2.69139 5.15948 2.64491 5.20634C2.55178 5.30002 2.49951 5.42675 2.49951 5.55884C2.49951 5.69093 2.55178 5.81766 2.64491 5.91134L4.93991 8.20634C5.22116 8.48724 5.60241 8.64502 5.99991 8.64502C6.39741 8.64502 6.77866 8.48724 7.05991 8.20634L9.35491 5.91134C9.44728 5.81821 9.49936 5.69251 9.49991 5.56134C9.50029 5.49554 9.48768 5.4303 9.46279 5.36939C9.43791 5.30847 9.40125 5.25306 9.35491 5.20634C9.30843 5.15948 9.25313 5.12228 9.1922 5.09689C9.13127 5.07151 9.06591 5.05844 8.99991 5.05844C8.9339 5.05844 8.86855 5.07151 8.80762 5.09689C8.74669 5.12228 8.69139 5.15948 8.64491 5.20634L6.35491 7.50134Z" fill="black"/>
</svg>
            </button>

            <!-- Simplified Font Dropdown -->

            <div class="custom-font-dropdown" *ngIf="showSloganCustomFontDropdown">
              <!-- Available Fonts List -->
             <div class="font-list">
                <div class="font-item" *ngFor="let font of getDisplayFonts()" (click)="selectSloganFont(font.name)">
                  <span class="font-name" [style.font-family]="font.family" [class.active]="sloganFont === font.name">
                    {{ font.display }}
                  </span>
                </div>
              </div>

            </div>
          </div>

<!-- Font Style Controls - Outside Dropdown -->
<div class="font-style-controls">
            <button 
              class="style-btn" 
              [class.active]="sloganIsBold" 
              (click)="toggleSloganBold()"
              title="Bold">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9.02 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z" />
              </svg>
            </button>
            <button 
              class="style-btn" 
              [class.active]="sloganIsItalic" 
              (click)="toggleSloganItalic()"
              title="Italic">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Alignment -->
     <div class="text-alignment d-flex align-center justify-space-between">
        <label class="form-label">Alignment</label>
        <div class="alignment-buttons">
          <button class="align-btn" [class.active]="textAlignment === 'left'" (click)="setAlignment('left')"
            title="Left Align">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
              <path
                d="M11.9629 11.6646H0.462891V13.5812H11.9629V11.6646ZM11.9629 3.99788H0.462891V5.91455H11.9629V3.99788ZM0.462891 9.74788H17.7129V7.83122H0.462891V9.74788ZM0.462891 17.4146H17.7129V15.4979H0.462891V17.4146ZM0.462891 0.164551V2.08122H17.7129V0.164551H0.462891Z"
                [attr.fill] ="textAlignment === 'left' ? '#007A33' : '#000000'" />
            </svg>

          </button>
          <button class="align-btn" [class.active]="textAlignment === 'center'" (click)="setAlignment('center')"
            title="Center Align">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
              <path
                d="M4.56771 11.6646V13.5812H14.151V11.6646H4.56771ZM0.734375 17.4146H17.9844V15.4979H0.734375V17.4146ZM0.734375 9.74788H17.9844V7.83122H0.734375V9.74788ZM4.56771 3.99788V5.91455H14.151V3.99788H4.56771ZM0.734375 0.164551V2.08122H17.9844V0.164551H0.734375Z"
                [attr.fill] ="textAlignment === 'center' ? '#007A33' : '#000000'" />
            </svg>

          </button>
          <button class="align-btn" [class.active]="textAlignment === 'right'" (click)="setAlignment('right')"
            title="Right Align">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
              <path
                d="M0.00390625 17.4146H17.2539V15.4979H0.00390625V17.4146ZM5.75391 13.5812H17.2539V11.6646H5.75391V13.5812ZM0.00390625 9.74788H17.2539V7.83122H0.00390625V9.74788ZM5.75391 5.91455H17.2539V3.99788H5.75391V5.91455ZM0.00390625 0.164551V2.08122H17.2539V0.164551H0.00390625Z"
                [attr.fill] ="textAlignment === 'right' ? '#007A33' : '#000000'" />
            </svg>

          </button>
          <button class="align-btn" [class.active]="textAlignment === 'left-fill'" (click)="setAlignment('left-fill')"
            title="Left Align with Fill">

            <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
              <path
                d="M11.9629 11.6646H0.462891V13.5812H11.9629V11.6646ZM11.9629 3.99788H0.462891V5.91455H11.9629V3.99788ZM0.462891 9.74788H17.7129V7.83122H0.462891V9.74788ZM0.462891 17.4146H17.7129V15.4979H0.462891V17.4146ZM0.462891 0.164551V2.08122H17.7129V0.164551H0.462891Z"
                [attr.fill] ="textAlignment === 'left-fill' ? '#007A33' : '#000000'" />
            </svg>
            <svg width="13" height="3" viewBox="0 0 13 3" fill="currentColor">
              <path d="M12.0879 3.0083H0.587891V0.133301H12.0879V3.0083Z" [attr.fill] ="textAlignment === 'left-fill' ? '#007A33' : '#000000'" />
            </svg>
          </button>
          <button class="align-btn" [class.active]="textAlignment === 'center-fill'"
            (click)="setAlignment('center-fill')" title="Center Align with Fill">

            <svg width="13" height="3" viewBox="0 0 13 3" fill="currentColor">
              <path d="M12.0879 3.0083H0.587891V0.133301H12.0879V3.0083Z" [attr.fill] ="textAlignment === 'center-fill' ? '#007A33' : '#000000'" />
            </svg>
            <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
              <path
                d="M4.56771 11.6646V13.5812H14.151V11.6646H4.56771ZM0.734375 17.4146H17.9844V15.4979H0.734375V17.4146ZM0.734375 9.74788H17.9844V7.83122H0.734375V9.74788ZM4.56771 3.99788V5.91455H14.151V3.99788H4.56771ZM0.734375 0.164551V2.08122H17.9844V0.164551H0.734375Z"
                 [attr.fill] ="textAlignment === 'center-fill' ? '#007A33' : '#000000'" />
            </svg>
            <svg width="13" height="3" viewBox="0 0 13 3" fill="currentColor">
              <path d="M12.0879 3.0083H0.587891V0.133301H12.0879V3.0083Z"  [attr.fill] ="textAlignment === 'center-fill' ? '#007A33' : '#000000'" />
            </svg>

          </button>
          <button class="align-btn" [class.active]="textAlignment === 'right-fill'" (click)="setAlignment('right-fill')"
            title="Right Align with Fill">


            <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
              <path
                d="M0.00390625 17.4146H17.2539V15.4979H0.00390625V17.4146ZM5.75391 13.5812H17.2539V11.6646H5.75391V13.5812ZM0.00390625 9.74788H17.2539V7.83122H0.00390625V9.74788ZM5.75391 5.91455H17.2539V3.99788H5.75391V5.91455ZM0.00390625 0.164551V2.08122H17.2539V0.164551H0.00390625Z"
                 [attr.fill] ="textAlignment === 'right-fill' ? '#007A33' : '#000000'" />
            </svg>
            <svg width="13" height="3" viewBox="0 0 13 3" fill="currentColor">
              <path d="M12.0879 3.0083H0.587891V0.133301H12.0879V3.0083Z" [attr.fill] ="textAlignment === 'right-fill' ? '#007A33' : '#000000'" />
            </svg>

          </button>
        </div>
      </div>

      <!-- Line Count -->
      <div class=" controls-section line-count-section">
        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Line Count</label>
            <div class="slider-wrapper">
              <input
                type="range"
                class="range-slider"
                [(ngModel)]="sloganLineCount"
                (ngModelChange)="onSloganLineCountChange()"
                min="1"
                max="4"
                step="1"
                [style.--val]="sloganLineCount"
                [style.--min]="1"
                [style.--max]="4"
              />
              <!-- <div class="slider-value">{{ sloganLineCount }}</div> -->
            </div>
          </div>
        </div>
      </div>

      <!-- Controls Section -->
      <div class="controls-section">
        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Font Size</label>
            <div class="slider-wrapper">
              <input
                type="range"
                class="range-slider"
                [(ngModel)]="sloganFontSize"
                (ngModelChange)="onSloganFontSizeChange()"
                min="12"
                max="80"
                [style.--val]="sloganFontSize"
                [style.--min]="12"
                [style.--max]="80"
              />
            </div>
          </div>
        </div>

        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Letter Spacing</label>
            <div class="slider-wrapper">
              <input
                type="range"
                class="range-slider"
                [(ngModel)]="sloganLetterSpacing"
                (ngModelChange)="onSloganLetterSpacingChange()"
                min="-2"
                max="10"
                [style.--val]="sloganLetterSpacing"
                [style.--min]="-2"
                [style.--max]="10"
              />
            </div>
          </div>
        </div>

        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Line Height</label>
            <div class="slider-wrapper">
              <input
                type="range"
                class="range-slider"
                [(ngModel)]="sloganLineHeight"
                (ngModelChange)="onSloganLineHeightChange()"
                min="0.8"
                max="2"
                step="0.1"
                [style.--val]="sloganLineHeight"
                [style.--min]="0.8"
                [style.--max]="2"
              />
            </div>
          </div>
        </div>
      </div>
</div>
     
    </div>

    <!-- Icons Section -->
    <div class="editor-section brand-section" *ngIf="activeTab === 'icons'">
      <div class="section-header">
        <h2>Make your mark</h2>
        <p class="section-description">Whether you want a bold symbol or a simple monogram, you're in control to make it your own.</p>
      </div>

      <!-- Logo Icon Toggle -->
      <div class="logo-icon-toggle">
        <label class="control-label">Logo Icon</label>
        <div class="toggle-wrapper">
          <label class="switch">
            <input type="checkbox" [(ngModel)]="showLogoIcon" (ngModelChange)="onLogoIconToggle()">
            <span class="slider"></span>
          </label>
        </div>
      </div>
<div  [style.opacity]="showLogoIcon ? '1' : '0.3'" [style.pointer-events]="!showLogoIcon ? 'none' : 'auto'">
      <!-- Symbol/Initials Tabs -->
      <div class="icon-type-tabs" >
        <button 
          class="tab-btn" 
          [class.active]="activeIconType === 'symbol'" 
          (click)="setActiveIconType('symbol')"
        >
          Symbol
        </button>
        <button 
          class="tab-btn" 
          [class.active]="activeIconType === 'initials'" 
          (click)="setActiveIconType('initials')"
        >
          Initials
        </button>
      </div>

      <!-- Symbol Tab Content -->
      <div *ngIf="activeIconType === 'symbol'">
        <!-- Search Box with Pagination -->
        <div class="search-box-wrapper">
          <div class="search-input-container">
            <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <input 
              type="text" 
              class="search-input" 
              [class.focused]="isSearchFocused"
              [(ngModel)]="iconSearchTerm" 
              (ngModelChange)="onSearchInputChange()"
              (focus)="onSearchInputFocus()"
              (blur)="onSearchInputBlur()"
              (keydown.enter)="onIconSearch()"
              placeholder="Search icons..."
            >
            <!-- <button 
              class="add-icon-btn" 
              (click)="triggerIconSearch()"
              title="Search for icons"
            >
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
              </svg>
            </button> -->
          </div>

          <!-- Search Suggestions Dropdown -->
          <div 
            class="search-suggestions-dropdown" 
            *ngIf="showSearchSuggestions && searchSuggestions.length > 0"
          >
            <div 
              class="suggestion-item"
              *ngFor="let suggestion of searchSuggestions"
              (click)="selectSearchSuggestion(suggestion)"
            >
              <span class="suggestion-match">{{ iconSearchTerm }}</span>
              <span class="suggestion-completion">{{ suggestion.slice(iconSearchTerm.length) }}</span>
            </div>
          </div>
          
          <!-- Pagination Controls beside search -->
          <div class="pagination-controls-inline" *ngIf="totalPages > 1">
            <button 
              class="page-btn-inline" 
              [disabled]="currentPage === 1"
              (click)="goToPage(currentPage - 1)"
            >
              <svg *ngIf="currentPage === 1" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24 12C24 9.62662 23.2962 7.30655 21.9776 5.33315C20.6591 3.35976 18.7849 1.8217 16.5922 0.913445C14.3995 0.0051918 11.9867 -0.232449 9.65891 0.230576C7.33114 0.693598 5.19295 1.83649 3.51472 3.51472C1.83649 5.19295 0.693598 7.33114 0.230576 9.65891C-0.232449 11.9867 0.0051918 14.3995 0.913445 16.5922C1.8217 18.7849 3.35976 20.6591 5.33315 21.9776C7.30655 23.2962 9.62662 24 12 24C15.1815 23.9966 18.2318 22.7312 20.4815 20.4815C22.7312 18.2318 23.9966 15.1815 24 12ZM2 12C2 10.0222 2.58649 8.08879 3.6853 6.4443C4.78412 4.7998 6.3459 3.51808 8.17316 2.7612C10.0004 2.00432 12.0111 1.80629 13.9509 2.19214C15.8907 2.578 17.6725 3.53041 19.0711 4.92893C20.4696 6.32746 21.422 8.10929 21.8079 10.0491C22.1937 11.9889 21.9957 13.9996 21.2388 15.8268C20.4819 17.6541 19.2002 19.2159 17.5557 20.3147C15.9112 21.4135 13.9778 22 12 22C9.34873 21.9971 6.80688 20.9426 4.93215 19.0679C3.05741 17.1931 2.00291 14.6513 2 12ZM10.879 17.707C11.0665 17.5195 11.1718 17.2652 11.1718 17C11.1718 16.7348 11.0665 16.4805 10.879 16.293L7.587 13L18 12.993C18.2652 12.993 18.5196 12.8876 18.7071 12.7001C18.8946 12.5126 19 12.2582 19 11.993C19 11.7278 18.8946 11.4734 18.7071 11.2859C18.5196 11.0984 18.2652 10.993 18 10.993L7.586 11L10.879 7.707C10.9775 7.6168 11.0569 7.50778 11.1126 7.38637C11.1683 7.26497 11.1991 7.13364 11.2032 7.00014C11.2073 6.86664 11.1846 6.73368 11.1364 6.60909C11.0883 6.4845 11.0157 6.37082 10.9229 6.27476C10.8301 6.17869 10.719 6.10219 10.5962 6.04976C10.4733 5.99733 10.3412 5.97005 10.2077 5.96951C10.0741 5.96897 9.94179 5.9952 9.81853 6.04663C9.69527 6.09807 9.58356 6.17368 9.49 6.269L9.465 6.293L5.879 9.878C5.60037 10.1566 5.37934 10.4873 5.22855 10.8513C5.07775 11.2153 5.00014 11.6055 5.00014 11.9995C5.00014 12.3935 5.07775 12.7837 5.22855 13.1477C5.37934 13.5117 5.60037 13.8424 5.879 14.121L9.465 17.707C9.65253 17.8945 9.90683 17.9998 10.172 17.9998C10.4372 17.9998 10.6915 17.8945 10.879 17.707Z" fill="#CCCCCC"/>
</svg>
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_949_22173)">
<path d="M24 12C24 9.62662 23.2962 7.30655 21.9776 5.33315C20.6591 3.35976 18.7849 1.8217 16.5922 0.913445C14.3995 0.0051918 11.9867 -0.232449 9.65891 0.230576C7.33114 0.693598 5.19295 1.83649 3.51472 3.51472C1.83649 5.19295 0.693598 7.33114 0.230576 9.65891C-0.232449 11.9867 0.0051918 14.3995 0.913445 16.5922C1.8217 18.7849 3.35976 20.6591 5.33315 21.9776C7.30655 23.2962 9.62662 24 12 24C15.1815 23.9966 18.2318 22.7312 20.4815 20.4815C22.7312 18.2318 23.9966 15.1815 24 12ZM9.465 17.707L5.879 14.121C5.60037 13.8424 5.37934 13.5117 5.22855 13.1477C5.07775 12.7837 5.00014 12.3935 5.00014 11.9995C5.00014 11.6055 5.07775 11.2153 5.22855 10.8513C5.37934 10.4873 5.60037 10.1566 5.879 9.878L9.465 6.293L9.49 6.269C9.58356 6.17368 9.69527 6.09807 9.81853 6.04663C9.94179 5.9952 10.0741 5.96897 10.2077 5.96951C10.3412 5.97005 10.4733 5.99733 10.5962 6.04976C10.719 6.10219 10.8301 6.17869 10.9229 6.27476C11.0157 6.37082 11.0883 6.4845 11.1364 6.60909C11.1846 6.73368 11.2073 6.86664 11.2032 7.00014C11.1991 7.13364 11.1683 7.26497 11.1126 7.38637C11.0569 7.50778 10.9775 7.6168 10.879 7.707L7.586 11L18 10.993C18.2652 10.993 18.5196 11.0984 18.7071 11.2859C18.8946 11.4734 19 11.7278 19 11.993C19 12.2582 18.8946 12.5126 18.7071 12.7001C18.5196 12.8876 18.2652 12.993 18 12.993L7.587 13L10.879 16.293C10.9745 16.3852 11.0507 16.4956 11.1031 16.6176C11.1555 16.7396 11.1831 16.8708 11.1842 17.0036C11.1854 17.1364 11.1601 17.2681 11.1098 17.391C11.0595 17.5138 10.9853 17.6255 10.8914 17.7194C10.7975 17.8133 10.6858 17.8875 10.563 17.9378C10.4401 17.9881 10.3084 18.0134 10.1756 18.0122C10.0428 18.0111 9.9116 17.9835 9.78959 17.9311C9.66759 17.8787 9.55725 17.8025 9.465 17.707Z" fill="#007A33"/>
</g>
<defs>
<clipPath id="clip0_949_22173">
<rect width="24" height="24" fill="white" transform="matrix(-1 0 0 -1 24 24)"/>
</clipPath>
</defs>
</svg>


            </button>
            
            <button 
              class="page-btn-inline" 
              [disabled]="currentPage === totalPages"
              (click)="goToPage(currentPage + 1)"
            >
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 12C0 14.3734 0.703788 16.6935 2.02236 18.6668C3.34094 20.6402 5.21509 22.1783 7.4078 23.0866C9.60051 23.9948 12.0133 24.2324 14.3411 23.7694C16.6689 23.3064 18.8071 22.1635 20.4853 20.4853C22.1635 18.8071 23.3064 16.6689 23.7694 14.3411C24.2324 12.0133 23.9948 9.60051 23.0866 7.4078C22.1783 5.21509 20.6402 3.34094 18.6668 2.02236C16.6935 0.703788 14.3734 0 12 0C8.81846 0.00344108 5.76821 1.26883 3.51852 3.51852C1.26883 5.76821 0.00344108 8.81846 0 12ZM14.535 6.293L18.121 9.879C18.3996 10.1576 18.6207 10.4883 18.7715 10.8523C18.9222 11.2163 18.9999 11.6065 18.9999 12.0005C18.9999 12.3945 18.9222 12.7847 18.7715 13.1487C18.6207 13.5127 18.3996 13.8434 18.121 14.122L14.535 17.707L14.51 17.731C14.4164 17.8263 14.3047 17.9019 14.1815 17.9534C14.0582 18.0048 13.9259 18.031 13.7923 18.0305C13.6588 18.03 13.5267 18.0027 13.4038 17.9502C13.281 17.8978 13.1699 17.8213 13.0771 17.7252C12.9843 17.6292 12.9117 17.5155 12.8636 17.3909C12.8154 17.2663 12.7927 17.1334 12.7968 16.9999C12.8009 16.8664 12.8317 16.735 12.8874 16.6136C12.9431 16.4922 13.0225 16.3832 13.121 16.293L16.414 13L6 13.007C5.73478 13.007 5.48043 12.9016 5.29289 12.7141C5.10536 12.5266 5 12.2722 5 12.007C5 11.7418 5.10536 11.4874 5.29289 11.2999C5.48043 11.1124 5.73478 11.007 6 11.007L16.413 11L13.121 7.707C13.0255 7.61475 12.9493 7.50441 12.8969 7.38241C12.8445 7.2604 12.8169 7.12918 12.8158 6.9964C12.8146 6.86362 12.8399 6.73194 12.8902 6.60905C12.9405 6.48615 13.0147 6.3745 13.1086 6.28061C13.2025 6.18671 13.3142 6.11246 13.437 6.06218C13.5599 6.0119 13.6916 5.9866 13.8244 5.98775C13.9572 5.9889 14.0884 6.01649 14.2104 6.0689C14.3324 6.12131 14.4428 6.19749 14.535 6.293Z" fill="#CCCCCC"/>
</svg>


<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 12C0 14.3734 0.703788 16.6935 2.02236 18.6668C3.34094 20.6402 5.21509 22.1783 7.4078 23.0866C9.60051 23.9948 12.0133 24.2324 14.3411 23.7694C16.6689 23.3064 18.8071 22.1635 20.4853 20.4853C22.1635 18.8071 23.3064 16.6689 23.7694 14.3411C24.2324 12.0133 23.9948 9.60051 23.0866 7.4078C22.1783 5.21509 20.6402 3.34094 18.6668 2.02236C16.6935 0.703788 14.3734 0 12 0C8.81846 0.00344108 5.76821 1.26883 3.51852 3.51852C1.26883 5.76821 0.00344108 8.81846 0 12ZM14.535 6.293L18.121 9.879C18.3996 10.1576 18.6207 10.4883 18.7715 10.8523C18.9222 11.2163 18.9999 11.6065 18.9999 12.0005C18.9999 12.3945 18.9222 12.7847 18.7715 13.1487C18.6207 13.5127 18.3996 13.8434 18.121 14.122L14.535 17.707L14.51 17.731C14.4164 17.8263 14.3047 17.9019 14.1815 17.9534C14.0582 18.0048 13.9259 18.031 13.7923 18.0305C13.6588 18.03 13.5267 18.0027 13.4038 17.9502C13.281 17.8978 13.1699 17.8213 13.0771 17.7252C12.9843 17.6292 12.9117 17.5155 12.8636 17.3909C12.8154 17.2663 12.7927 17.1334 12.7968 16.9999C12.8009 16.8664 12.8317 16.735 12.8874 16.6136C12.9431 16.4922 13.0225 16.3832 13.121 16.293L16.414 13L6 13.007C5.73478 13.007 5.48043 12.9016 5.29289 12.7141C5.10536 12.5266 5 12.2722 5 12.007C5 11.7418 5.10536 11.4874 5.29289 11.2999C5.48043 11.1124 5.73478 11.007 6 11.007L16.413 11L13.121 7.707C13.0255 7.61475 12.9493 7.50441 12.8969 7.38241C12.8445 7.2604 12.8169 7.12918 12.8158 6.9964C12.8146 6.86362 12.8399 6.73194 12.8902 6.60905C12.9405 6.48615 13.0147 6.3745 13.1086 6.28061C13.2025 6.18671 13.3142 6.11246 13.437 6.06218C13.5599 6.0119 13.6916 5.9866 13.8244 5.98775C13.9572 5.9889 14.0884 6.01649 14.2104 6.0689C14.3324 6.12131 14.4428 6.19749 14.535 6.293Z" fill="#007A33"/>
</svg>



              
            </button>
          </div>
        </div>

        <!-- Loading State -->
        <div *ngIf="loading" class="loading-state">
          <div class="loading-spinner"></div>
          <p>Loading icons...</p>
        </div>

        <!-- Icon Grid -->
        <div *ngIf="!loading && availableNounIcons.length > 0" class="icon-grid-modern">
          <div class="icon-grid-container">
            <button
              *ngFor="let icon of paginatedIcons"
              class="icon-item"
              [class.selected]="selectedIcon?.id === icon.id"
              (click)="selectIcon(icon)"
            ><div class="icon-outline-wrapper">
              <div class="icon-wrapper">
                <img [src]="icon.thumbnailUrl" [alt]="icon.name || 'icon'" />
              </div>
              </div>
            </button>
          </div>
          <div class="page-info-count">
          <span class="page-info-inline">{{ currentPage }} of {{ totalPages }}</span>
          </div>
        </div>

        <!-- No Results State -->
        <div *ngIf="!loading && availableNounIcons.length === 0 && iconSearchTerm" class="no-results">
          <p>No icons found for "{{ iconSearchTerm }}"</p>
        </div>
      </div>

      <!-- Initials Tab Content -->
      <div *ngIf="activeIconType === 'initials'" class="initials-content">
        <div class="initials-input-wrapper">
          <label class="control-label">Enter Initials</label>
          <input 
            type="text" 
            class="initials-input" 
            [(ngModel)]="userInitials" 
            (ngModelChange)="onInitialsChange()"
            placeholder="AB"
            maxlength="20"
          >
        </div>

        <!-- Font selection for initials -->
        <div class="fonts-section">
          <h3 class="subsection-title">Recommended Fonts</h3>
          <div class="fonts-grid">
            <button
              *ngFor="let font of getDisplayFonts()"
              class="font-tile"
              [class.active]="initialsFont === font.name"
              (click)="selectInitialsFont(font.name)"
              [style.font-family]="font.family"
            >
              {{ font.display }}
            </button>
          </div>
        </div>
         <div class="custom-font-section">
        <h3 class="subsection-title">Custom Font</h3>


<div class="custom-font-button" (click)="toggleInitialsFontSelection()" *ngIf="!showInitialsFontSelection">
                <div class="upload-zone">                  
                  <label for="font-upload-brand" class="upload-label">
                    <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 7.0083C12 7.42305 11.6648 7.7583 11.25 7.7583H9.75V12.2583C9.75 12.6731 9.41475 13.0083 9 13.0083C8.58525 13.0083 8.25 12.6731 8.25 12.2583V7.7583H6.75C6.33525 7.7583 6 7.42305 6 7.0083C6 6.59355 6.33525 6.2583 6.75 6.2583H11.25C11.6648 6.2583 12 6.59355 12 7.0083ZM15 13.0353V5.4813C13.8525 5.3163 12.942 4.4058 12.777 3.2583H5.223C5.058 4.4058 4.1475 5.3163 3 5.4813V13.0353C4.1475 13.2003 5.058 14.1108 5.223 15.2583H12.777C12.942 14.1108 13.8525 13.2003 15 13.0353ZM18 15.6333C18 17.0808 16.8225 18.2583 15.375 18.2583C14.3303 18.2583 13.4258 17.6441 13.0035 16.7583H4.9965C4.57425 17.6441 3.66975 18.2583 2.625 18.2583C1.1775 18.2583 0 17.0808 0 15.6333C0 14.5886 0.61425 13.6841 1.5 13.2618V5.2548C0.61425 4.83255 0 3.92805 0 2.8833C0 1.4358 1.1775 0.258301 2.625 0.258301C3.66975 0.258301 4.57425 0.872551 4.9965 1.7583H13.0043C13.4265 0.872551 14.331 0.258301 15.3758 0.258301C16.8233 0.258301 18.0008 1.4358 18.0008 2.8833C18.0008 3.92805 17.3865 4.83255 16.5008 5.2548V13.2626C17.3865 13.6848 18.0008 14.5893 18.0008 15.6341L18 15.6333Z" fill="#007A33"/>
</svg>
                    <span>Select your own fonts</span>
                  </label>
                </div>
                </div>

        <div class="font-selection-row" *ngIf="showInitialsFontSelection">
          <div class="custom-font-dropdown-container">
            <button class="custom-font-btn" (click)="toggleCustomFontDropdown()">
              <span class="selected-font-display" [style.font-family]="initialsFont">
                {{ initialsFont }}
              </span>
              

              <svg width="12" height="13" viewBox="0 0 12 13"  fill="currentColor"
                [style.transform]="showCustomFontDropdown ? 'rotate(180deg)' : 'rotate(0deg)'">
<path d="M6.35491 7.50134C6.30843 7.5482 6.25313 7.5854 6.1922 7.61079C6.13127 7.63617 6.06591 7.64924 5.99991 7.64924C5.9339 7.64924 5.86855 7.63617 5.80762 7.61079C5.74669 7.5854 5.69139 7.5482 5.64491 7.50134L3.35491 5.20634C3.30843 5.15948 3.25313 5.12228 3.1922 5.09689C3.13127 5.07151 3.06591 5.05844 2.99991 5.05844C2.9339 5.05844 2.86855 5.07151 2.80762 5.09689C2.74669 5.12228 2.69139 5.15948 2.64491 5.20634C2.55178 5.30002 2.49951 5.42675 2.49951 5.55884C2.49951 5.69093 2.55178 5.81766 2.64491 5.91134L4.93991 8.20634C5.22116 8.48724 5.60241 8.64502 5.99991 8.64502C6.39741 8.64502 6.77866 8.48724 7.05991 8.20634L9.35491 5.91134C9.44728 5.81821 9.49936 5.69251 9.49991 5.56134C9.50029 5.49554 9.48768 5.4303 9.46279 5.36939C9.43791 5.30847 9.40125 5.25306 9.35491 5.20634C9.30843 5.15948 9.25313 5.12228 9.1922 5.09689C9.13127 5.07151 9.06591 5.05844 8.99991 5.05844C8.9339 5.05844 8.86855 5.07151 8.80762 5.09689C8.74669 5.12228 8.69139 5.15948 8.64491 5.20634L6.35491 7.50134Z" fill="black"/>
</svg>
            </button>

            <!-- Simplified Font Dropdown -->
            <div class="custom-font-dropdown" *ngIf="showCustomFontDropdown">
              <!-- Available Fonts List -->
              <div class="font-list">
                <div class="font-item" *ngFor="let font of getDisplayFonts()" (click)="selectInitialsFont(font.name)">
                  <span class="font-name" [style.font-family]="font.family" [class.active]="initialsFont === font.name">
                    {{ font.display }}
                  </span>
                </div>
              </div>

            </div>
          </div>

          <!-- Font Style Controls - Outside Dropdown -->
          <div class="font-style-controls">
            <button 
              class="style-btn" 
              [class.active]="initialsIsBold" 
              (click)="toggInitialsBold()"
              title="Bold">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9.02 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z" />
              </svg>
            </button>
            <button 
              class="style-btn" 
              [class.active]="initialsIsItalic" 
              (click)="toggleInitialsItalic()"
              title="Italic">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      </div>
      
      <!-- Size Control -->
       <div class="controls-section">
        <!-- <div class="control-row" *ngIf="showLogoIcon && (selectedIcon || userInitials)"> -->
      <div class="control-row">
        <div class="control-group">
          <label class="control-label">Size</label>
          <div class="slider-wrapper">
            <input
              type="range"
              class="range-slider"
              [(ngModel)]="iconSize"
              (ngModelChange)="onIconSizeChange()"
              min="200"
              max="520"
              [style.--val]="iconSize"
              [style.--min]="200"
              [style.--max]="520"
            />
          </div>
        </div>
      </div>
      </div>

      <!-- Margin Control -->
       <div class="controls-section">
      <!-- <div class="control-row" *ngIf="showLogoIcon && (selectedIcon || userInitials)"> -->
        <div class="control-row"  >
        <div class="control-group">
          <label class="control-label">Margin</label>
          <div class="slider-wrapper">
            <input
              type="range"
              class="range-slider"
              [(ngModel)]="iconMargin"
              (ngModelChange)="onIconMarginChange()"
              min="0"
              max="50"
              [style.--val]="iconMargin"
              [style.--min]="0"
              [style.--max]="50"
            />
          </div>
        </div>
      </div>
      </div>

      <!-- Background Toggle -->
        <div class="controls-section ">
      <!-- <div class="control-row" *ngIf="showLogoIcon && (selectedIcon || userInitials)"> -->
        <div class="control-row control-row-inner">
        <div class="control-group align-items-center">
          <label class="control-label">Background</label>
          <div class="toggle-wrapper">
            <label class="switch">
              <input type="checkbox" [(ngModel)]="iconBackground" (ngModelChange)="onIconBackgroundToggle()">
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
</div>
      <!-- Background Content Dropdown -->
      <!-- <div class="background-controls" *ngIf="showLogoIcon && iconBackground && (selectedIcon || userInitials)"> -->
        <div class="background-controls controls-section" *ngIf="iconBackground">
        <!-- Background Type Selection -->
       

        <!-- Rounded Corners Toggle -->
        <div class="control-row d-flex align-items-center justify-content-between">
          <div class="control-group">            
            <div class="checkbox-wrapper">
              <label class="checkbox-option">
                <input 
                  type="checkbox" 
                  [checked]="backgroundCorners === 'rounded'"
                  (change)="toggleRoundedCorners()"
                >
                <span class="checkbox-custom">
                  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" *ngIf="backgroundCorners === 'rounded'">
                    <path d="M2 6L5 9L10 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
                <span class="checkbox-label">Rounded Corners</span>
              </label>
            </div>
          </div>
          <div class="control-group">            
            <div class="background-type-selection">
              <label class="radio-option">
                <input 
                  type="radio" 
                  name="backgroundType" 
                  value="fill" 
                  [(ngModel)]="backgroundType" 
                  (ngModelChange)="setBackgroundType('fill')"
                >
                <span class="radio-custom"></span>
                <span class="radio-label">Color Fill</span>
              </label>
              <label class="radio-option">
                <input 
                  type="radio" 
                  name="backgroundType" 
                  value="border" 
                  [(ngModel)]="backgroundType" 
                  (ngModelChange)="setBackgroundType('border')"
                >
                <span class="radio-custom"></span>
                <span class="radio-label">Border</span>
              </label>
            </div>
          </div>

        </div>

      </div>

      <!-- Alignment Control -->
      <!-- <div class="control-row" *ngIf="showLogoIcon && (selectedIcon || userInitials)"> -->
        <div class="controls-section">
<div class="control-row">
        <div class="d-flex align-items-center justify-content-between control-group">
          <label class="control-label">Alignment</label>
          <div class="alignment-controls">
            <button 
              class="align-btn" 
              [class.active]="iconAlignment === 'left'"
              (click)="setIconAlignment('left')"
              title="Left align"
            >
          <svg width="39" height="10" viewBox="0 0 40 11" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13.9997 10.4923H39.4787V8.57566H13.9997V10.4923ZM13.9997 6.52502L39.4787 6.659V0.908998L13.9997 0.775024V6.52502ZM0.47849 0.77549L0.478516 10.4923H10.0618V0.77549H0.47849Z" [attr.fill] ="iconAlignment === 'left' ? '#007A33' : '#000000'"/>
          </svg>              
            </button>
            <button 
              class="align-btn" 
              [class.active]="iconAlignment === 'center'"
              (click)="setIconAlignment('center')"
              title="Center align"
            >
            <svg width="39" height="20" viewBox="0 0 39 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 20.5262H39V18.6096H0V20.5262ZM0 16.5589L39 16.6929V10.9429L0 10.8089V16.5589ZM14.7083 0.633667V9.02625H24.2917V0.633667H14.7083Z" [attr.fill] ="iconAlignment === 'center' ? '#007A33' : '#000000'"/>
            </svg>
              
            </button>
            <button 
              class="align-btn" 
              [class.active]="iconAlignment === 'right'"
              (click)="setIconAlignment('right')"
              title="Right align"
            >
          <svg width="39" height="14" viewBox="0 0 40 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M39.2803 12.4799V14.3969H0.280273V12.4799H39.2803ZM9.86328 0.870483V10.5883H0.280273L0.279297 0.870483H9.86328ZM39.2803 7.37048V10.5638L13.8008 10.4291V7.23669L39.2803 7.37048ZM39.7598 5.12439H13.7598V0.87439H39.7598V5.12439Z"   [attr.fill] ="iconAlignment === 'right' ? '#007A33' : '#000000'"/>
          </svg>
            </button>
          </div>
        </div>
      </div>
      </div>
</div>
    </div>

  <!-- Shapes Section - Enhanced implementation per figma-shape.md -->
    <div class="editor-section shapes-section" *ngIf="activeTab === 'shapes'">
      <div class="section-header">
        <h2>Frame your logo</h2>
        <p class="section-description">Add an optional shape to frame your logo and give it extra structure and style. Or keep it clean and go without.</p>
      </div>

      <!-- Shape Toggle -->
      <div class="control-row">
        <div class="control-group shape-toggle-control">
          <label class="control-label">Shape</label>
        </div>
        <div class="control-helper">
          <div class="toggle-switch">
            <input 
              type="checkbox" 
              id="shapeEnabled" 
              [(ngModel)]="shapeEnabled" 
              (change)="onShapeToggleChange()"
              (mouseenter)="onShapeToggleHover(true)"
              (mouseleave)="onShapeToggleHover(false)"
            />
            <label 
              for="shapeEnabled" 
              class="toggle-slider"
              [class.hovered]="shapeToggleHovered"
              [class.inactive-hover]="!shapeEnabled && shapeToggleHovered"
            ></label>
          </div>
        </div>
      </div>

      <!-- Shape Selection Grid -->
      <div class="shapes-grid" *ngIf="shapeEnabled">
        <button
          *ngFor="let shape of shapes"
          class="shape-option"
          [class.active]="selectedShape?.name === shape.name"
          [class.hovered]="shape === hoveredShape"
          (click)="selectShape(shape)"
          (mouseenter)="hoveredShape = shape"
          (mouseleave)="hoveredShape = null"
          [title]="shape.name"
        >
          <div class="shape-icon">
            <!-- Circle -->
            <svg *ngIf="shape.name === 'Circle'" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
              <circle cx="20" cy="20" r="18" fill="currentColor"/>
            </svg>
            
            <!-- Rectangle -->
            <svg *ngIf="shape.name === 'Rectangle'" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
              <rect x="4" y="10" width="32" height="20" fill="currentColor"/>
            </svg>
            
            <!-- Diamond -->
            <svg *ngIf="shape.name === 'Diamond'" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
              <path d="M20 4 L36 20 L20 36 L4 20 Z" fill="currentColor"/>
            </svg>
            
            <!-- Pentagon -->
            <svg *ngIf="shape.name === 'Pentagon'" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
              <path d="M20 4 L32 14 L26 30 L14 30 L8 14 Z" fill="currentColor"/>
            </svg>
            
            <!-- Hexagon -->
            <svg *ngIf="shape.name === 'Hexagon'" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
              <path d="M10 20 L15 8 L25 8 L30 20 L25 32 L15 32 Z" fill="currentColor"/>
            </svg>
            
            <!-- Square Border -->
            <svg *ngIf="shape.name === 'Square Border'" width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="8" y="8" width="24" height="24"/>
            </svg>
            
            <!-- Top Bottom Lines -->
            <svg *ngIf="shape.name === 'Top Bottom Lines'" width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="6" y1="10" x2="34" y2="10"/>
              <line x1="6" y1="30" x2="34" y2="30"/>
            </svg>
            
            <!-- Left Right Lines -->
            <svg *ngIf="shape.name === 'Left Right Lines'" width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="10" y1="6" x2="10" y2="34"/>
              <line x1="30" y1="6" x2="30" y2="34"/>
            </svg>
            
            <!-- Bottom Line -->
            <svg *ngIf="shape.name === 'Bottom Line'" width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="6" y1="30" x2="34" y2="30"/>
            </svg>
            
            <!-- Corner Lines Left Top -->
            <svg *ngIf="shape.name === 'Corner Lines Left Top'" width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M8 8 L8 16 M8 8 L16 8"/>
              <path d="M32 32 L32 24 M32 32 L24 32"/>
            </svg>
            
            <!-- Corner Lines Right Bottom -->
            <svg *ngIf="shape.name === 'Corner Lines Right Bottom'" width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M32 8 L32 16 M32 8 L24 8"/>
              <path d="M8 32 L8 24 M8 32 L16 32"/>
            </svg>
          </div>
        </button>
      </div>

      <!-- Shape Controls -->
      <div class="shape-controls" *ngIf="shapeEnabled && selectedShape">
        
        <!-- Corner Roundness Control -->
        <div class="control-row" *ngIf="selectedShape.hasCorners">
          <div class="control-group">
            <label 
              class="control-label"
              [class.hovered]="cornerRoundnessHovered"
              (mouseenter)="onCornerRoundnessHover(true)"
              (mouseleave)="onCornerRoundnessHover(false)"
            >
              Corner Roundness
            </label>
          </div>
          <div class="control-helper">
            <div class="slider-container">
              <input 
                type="range" 
                class="slider corner-roundness-slider"
                [class.hovered]="cornerRoundnessHovered"
                [class.active]="cornerRoundness > 0"
                min="0" 
                max="100" 
                step="1"
                [(ngModel)]="cornerRoundness"
                (ngModelChange)="onCornerRoundnessChange()"
                (mouseenter)="onCornerRoundnessHover(true)"
                (mouseleave)="onCornerRoundnessHover(false)"
              />
            </div>
          </div>
        </div>

        <!-- Filled Toggle -->
        <div class="control-row">
          <div class="control-group">
            <label class="control-label">Filled</label>
          </div>
          <div class="control-helper">
            <div class="toggle-switch">
              <input 
                type="checkbox" 
                id="shapeFilled" 
                [(ngModel)]="shapeFilled" 
                (change)="onShapeFilledChange()"
                (mouseenter)="onFilledToggleHover(true)"
                (mouseleave)="onFilledToggleHover(false)"
              />
              <label 
                for="shapeFilled" 
                class="toggle-slider"
                [class.hovered]="filledToggleHovered"
                [class.active-hover]="shapeFilled && filledToggleHovered"
              ></label>
            </div>
          </div>
        </div>

        <!-- Line Width Control (only when not filled) -->
        <div class="control-row" *ngIf="!shapeFilled">
          <div class="control-group">
            <label 
              class="control-label"
              [class.hovered]="lineWidthHovered"
              (mouseenter)="onLineWidthHover(true)"
              (mouseleave)="onLineWidthHover(false)"
            >
              Line Width
            </label>
          </div>
          <div class="control-helper">
            <div class="slider-container">
              <input 
                type="range" 
                class="slider line-width-slider"
                [class.hovered]="lineWidthHovered"
                [class.active]="shapeLineWidth !== 2"
                min="1" 
                max="10" 
                step="1"
                [(ngModel)]="shapeLineWidth"
                (ngModelChange)="onShapeLineWidthChange()"
                (mouseenter)="onLineWidthHover(true)"
                (mouseleave)="onLineWidthHover(false)"
              />
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Colors Section -->
    <div class="editor-section colors-section" *ngIf="activeTab === 'colors'">
      <div class="section-header">
        <h2>Define your brand's tone</h2>
        <p class="section-description">From vibrant to minimal, we've got ready-made palettes to get you started, or create your own if you have something specific in mind.</p>
      </div>

      <!-- Recommended Colors -->
      <div class="recommended-colors">
        <h3 class="subsection-title">Recommended Colors</h3>
        <div class="color-schemes-grid">
          <div
            *ngFor="let scheme of colorSchemes; let i = index"
            class="color-scheme-pill"
            [class.selected]="selectedColorScheme === i"
            [class.hovered]="hoveredColorScheme === i"
            (click)="selectColorScheme(i)"
            (mouseenter)="hoveredColorScheme = i"
            (mouseleave)="hoveredColorScheme = null"
          >
            <div
              class="color-dot primary"
              [style.backgroundColor]="scheme.primary"
            ></div>
            <div
              class="color-dot secondary"
              [style.backgroundColor]="scheme.secondary"
            ></div>
          </div>
        </div>
      </div>

      <!-- Custom Color Section -->
      <div class="custom-color-section">
        <h3 class="subsection-title">Custom Color</h3>

        
        
        <!-- Custom Color Button -->
        <div class="custom-color-toggle" *ngIf="!showCustomColorOptions">
          <button
            class="custom-color-btn"
            (click)="toggleCustomColorOptions()"
            (mouseenter)="hoverCustomButton = true"
            (mouseleave)="hoverCustomButton = false"
            [class.hovered]="hoverCustomButton"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_40000031_18858)">
              <path d="M10.7247 6.93199L6.38872 11.268C5.91949 11.7361 5.28376 11.999 4.62097 11.999C3.95818 11.999 3.32244 11.7361 2.85322 11.268L0.732216 9.14649C0.263386 8.67765 0 8.04177 0 7.37874C0 6.71571 0.263386 6.07983 0.732216 5.61099L3.68222 2.66099L2.25522 1.21449C2.20401 1.16902 2.1627 1.11351 2.13383 1.05141C2.10497 0.989315 2.08916 0.921949 2.0874 0.853492C2.08565 0.785034 2.09797 0.716946 2.12361 0.653446C2.14925 0.589947 2.18765 0.532392 2.23645 0.484348C2.28525 0.436305 2.3434 0.398797 2.40729 0.374151C2.47118 0.349506 2.53945 0.338247 2.60788 0.341073C2.6763 0.343899 2.74341 0.360751 2.80505 0.390582C2.86669 0.420413 2.92155 0.462588 2.96622 0.514493L7.45122 5.05499L7.45572 5.06149C7.55186 5.14751 7.67765 5.19281 7.80655 5.18786C7.93546 5.1829 8.0574 5.12807 8.14665 5.03493C8.2359 4.94178 8.28548 4.81762 8.28493 4.68862C8.28439 4.55962 8.23375 4.43587 8.14372 4.34349L4.53872 0.693493C4.49395 0.586663 4.48766 0.467604 4.52093 0.356653C4.55419 0.245701 4.62494 0.149741 4.7211 0.085163C4.81726 0.0205851 4.93286 -0.00860392 5.04815 0.00258179C5.16344 0.0137675 5.27127 0.064634 5.35322 0.146493L11.8532 6.64649C11.901 6.69262 11.9391 6.74779 11.9653 6.80879C11.9915 6.86979 12.0053 6.9354 12.0058 7.00179C12.0064 7.06818 11.9938 7.13402 11.9686 7.19547C11.9435 7.25692 11.9064 7.31274 11.8594 7.35969C11.8125 7.40664 11.7566 7.44376 11.6952 7.4689C11.6337 7.49404 11.5679 7.50669 11.5015 7.50612C11.4351 7.50554 11.3695 7.49175 11.3085 7.46554C11.2475 7.43934 11.1923 7.40125 11.1462 7.35349L10.7247 6.93199ZM10.3457 9.21549C9.98022 9.74599 9.49972 10.3625 9.49972 10.75C9.49972 11.0815 9.63141 11.3995 9.86583 11.6339C10.1003 11.8683 10.4182 12 10.7497 12C11.0812 12 11.3992 11.8683 11.6336 11.6339C11.868 11.3995 11.9997 11.0815 11.9997 10.75C11.9997 10.3255 11.5272 9.72799 11.1632 9.21099C11.1167 9.14573 11.0552 9.09261 10.9838 9.0561C10.9125 9.01959 10.8334 9.00076 10.7533 9.0012C10.6732 9.00164 10.5943 9.02134 10.5234 9.05863C10.4524 9.09593 10.3915 9.14972 10.3457 9.21549Z" fill="#007A33"/>
              </g>
              <defs>
              <clipPath id="clip0_40000031_18858">
              <rect width="12" height="12" fill="white"/>
              </clipPath>
              </defs>
            </svg>
            <span class="text-underline">Custom</span>
          </button>
        </div>
 

        <!-- Custom Color Options -->
        <div class="custom-controls" *ngIf="showCustomColorOptions">

          
        <div class="color-scheme-pill color-scheme-pill-large">
             
            <div
              class="color-dot cicon"
              [style.backgroundColor]="customColors.icon"
            ></div>
            <div
              class="color-dot cname"
              [style.backgroundColor]="customColors.name"
            ></div>
            <div
              class="color-dot cslogan"
              [style.backgroundColor]="customColors.slogan"
            ></div>
            <div
              class="color-dot cshape"
              [style.backgroundColor]="customColors.shape"
            ></div>
          </div>
          <div class="color-controls-grid">
            <!-- Icon Color -->
            <div class="color-control-item" [class.disabled]="!componentStates.icon">
              <label class="color-control-label">Icon Color</label>
              <div class="color-control-input">
                <div 
                  class="color-preview-swatch"
                  [style.backgroundColor]="customColors.icon"
                  [class.disabled]="!componentStates.icon"
                  (click)="openColorPicker('icon')"
                >
                  <div class="color-preview-icon" [style.color]="getContrastColor(customColors.icon)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.2 0L12 2.8L10.2 4.65L12 6.5L10.5 8L9 6.5L3.5 12H0V8.5L5.5 3L4 1.5L5.5 0L7.3 1.84969L9.2 0ZM7.55051 5.05051L6.94949 4.44949L2 9.4V10H2.6L7.55051 5.05051Z" fill="#FFFFFF"/>
</svg>
                  </div>
                </div>
                <span class="hex-value" [class.disabled]="!componentStates.icon">{{ customColors.icon }}</span>
              </div>
            </div>

            <!-- Name Color -->
            <div class="color-control-item" [class.disabled]="!componentStates.name">
              <label class="color-control-label">Name Color</label>
              <div class="color-control-input">
                <div 
                  class="color-preview-swatch"
                  [style.backgroundColor]="customColors.name"
                  [class.disabled]="!componentStates.name"
                  (click)="openColorPicker('name')"
                >
                  <div class="color-preview-icon" [style.color]="getContrastColor(customColors.name)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.2 0L12 2.8L10.2 4.65L12 6.5L10.5 8L9 6.5L3.5 12H0V8.5L5.5 3L4 1.5L5.5 0L7.3 1.84969L9.2 0ZM7.55051 5.05051L6.94949 4.44949L2 9.4V10H2.6L7.55051 5.05051Z" fill="#FFFFFF"/>
</svg>
                  </div>
                </div>
                <span class="hex-value" [class.disabled]="!componentStates.name">{{ customColors.name }}</span>
              </div>
            </div>

            <!-- Slogan Color -->
            <div class="color-control-item" [class.disabled]="!componentStates.slogan">
              <label class="color-control-label">Slogan Color</label>
              <div class="color-control-input">
                <div 
                  class="color-preview-swatch"
                  [style.backgroundColor]="customColors.slogan"
                  [class.disabled]="!componentStates.slogan"
                  (click)="openColorPicker('slogan')"
                >
                  <div class="color-preview-icon" [style.color]="getContrastColor(customColors.slogan)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.2 0L12 2.8L10.2 4.65L12 6.5L10.5 8L9 6.5L3.5 12H0V8.5L5.5 3L4 1.5L5.5 0L7.3 1.84969L9.2 0ZM7.55051 5.05051L6.94949 4.44949L2 9.4V10H2.6L7.55051 5.05051Z" fill="#FFFFFF"/>
</svg>
                  </div>
                </div>
                <span class="hex-value" [class.disabled]="!componentStates.slogan">{{ customColors.slogan }}</span>
              </div>
            </div>

            <!-- Shape Color -->
            <div class="color-control-item" [class.disabled]="!componentStates.shape">
              <label class="color-control-label">Shape Color</label>
              <div class="color-control-input">
                <div 
                  class="color-preview-swatch"
                  [style.backgroundColor]="customColors.shape"
                  [class.disabled]="!componentStates.shape"
                  (click)="openColorPicker('shape')"
                >
                  <div class="color-preview-icon" [style.color]="getContrastColor(customColors.shape)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.2 0L12 2.8L10.2 4.65L12 6.5L10.5 8L9 6.5L3.5 12H0V8.5L5.5 3L4 1.5L5.5 0L7.3 1.84969L9.2 0ZM7.55051 5.05051L6.94949 4.44949L2 9.4V10H2.6L7.55051 5.05051Z" fill="#FFFFFF"/>
</svg>
                  </div>
                </div>
                <span class="hex-value" [class.disabled]="!componentStates.shape">{{ customColors.shape }}</span>
              </div>
            </div>
          </div>
        </div>
              <!-- Color Picker Modal -->
      <div class="color-picker-overlay" *ngIf="showColorPicker">
        <div class="color-picker-modal" (click)="$event.stopPropagation()">
          <app-color-picker
            (colorSelected)="onColorPickerApply($event)"
            (closed)="closeColorPicker()"
          ></app-color-picker>
        </div>
      </div>
      </div>


    </div>
  </div>

  <!-- Right Panel - Logo Preview -->
  <div class="preview-panel">
    <div class="preview-header">
      <div class="preview-actions">
        <button class="action-btn secondary" (click)="undo()" [disabled]="!canUndo">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"
            />
          </svg>
        </button>
        <button class="action-btn secondary" (click)="redo()" [disabled]="!canRedo">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.53,15.22L3.9,16C4.95,12.81 7.96,10.5 11.5,10.5C13.46,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z"
            />
          </svg>
        </button>
        
        <!-- Separator -->
        <div class="action-separator"></div>
        
        <!-- Autosave Status -->
        <app-cloud-save-status [showStatusText]="false" class="header-autosave"></app-cloud-save-status>
      </div>
      <div class="preview-buttons">
        <button
          class="action-btn primary download-btn"
          (click)="downloadLogo()"
          title="Download logo pack with PNG, SVG and JPG formats"
        >
          Download
        </button>
        <button class="action-btn primary publish-btn" (click)="publishLogo()">Publish</button>
      </div>
    </div>
    <div class="preview-content">
      <div class="logo-canvas-wrapper">
        <canvas #logoCanvas class="logo-canvas"></canvas>
      </div>
    </div>
  </div>
</div>
